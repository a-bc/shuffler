{"name":"Shufflr","tagline":"simple text shuffler","body":"### Добро пожаловать в Shufflr.\r\nНа этой страничке вы можете перемешать строки вашего файла. Нет ничего проще: открыл, перемешал, скачал. Всё!\r\n\r\nКодировка — UTF-8.\r\n\r\n\r\n<input type=\"file\" id=\"fileinput\">\r\n<input type=\"button\" id=\"shuffle\" value=\"Перемешать\">\r\n<input type=\"button\" id=\"download\" value=\"Скачать\">\r\n<code><pre id=\"text\"></pre></code>\r\n\r\n\r\n<script type=\"text/javascript\">\r\n\r\nvar contents;\r\n\r\nfunction download() {\r\n    var pom = document.createElement('a');\r\n    pom.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(contents));\r\n    pom.setAttribute('download', 'shuffled.txt');\r\n    pom.style.display = 'none';\r\n    document.body.appendChild(pom);\r\n    pom.click();\r\n    document.body.removeChild(pom);\r\n}\r\n\r\nfunction shuffle(evt) {\r\n    var o = contents.split(\"\\n\");\r\n    for (var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);\r\n    contents = o.join(\"\\n\")\r\n    document.getElementById('text').innerHTML = contents;\r\n}\r\n\r\nfunction readSingleFile(evt) {\r\n    var f = evt.target.files[0];\r\n\r\n    if (f) {\r\n        var r = new FileReader();\r\n        r.onload = function(e) { contents = e.target.result; shuffle();}\r\n        r.readAsText(f);\r\n    } else {\r\n        alert('Failed to load file');\r\n    }\r\n}\r\n\r\ndocument.getElementById('fileinput').addEventListener('change', readSingleFile, false);\r\ndocument.getElementById('shuffle').addEventListener('click', shuffle, false);\r\ndocument.getElementById('download').addEventListener('click', download, false);\r\n\r\n</script>\r\n\r\n\r\n###\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}