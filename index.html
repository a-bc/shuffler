<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Shufflr by a-bc</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Shufflr</h1>
      <h2 class="project-tagline">simple text shuffler</h2>
    </section>

    <section class="main-content">
      <h3>
<a id="Добро-пожаловать-в-shufflr" class="anchor" href="#%D0%94%D0%BE%D0%B1%D1%80%D0%BE-%D0%BF%D0%BE%D0%B6%D0%B0%D0%BB%D0%BE%D0%B2%D0%B0%D1%82%D1%8C-%D0%B2-shufflr" aria-hidden="true"><span class="octicon octicon-link"></span></a>Добро пожаловать в Shufflr.</h3>

<p>На этой страничке вы можете перемешать строки вашего файла. Нет ничего проще: открыл, перемешал, скачал. Всё!</p>

<p>Кодировка — UTF-8.</p>


<input type="file" id="fileinput">
<input type="button" id="shuffle" value="Перемешать">
<input type="button" id="download" value="Скачать">
<code><pre id="text"></pre></code>

<script type="text/javascript">

var contents;

function download() {
    var pom = document.createElement('a');
    pom.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(contents));
    pom.setAttribute('download', 'shuffled.txt');
    pom.style.display = 'none';
    document.body.appendChild(pom);
    pom.click();
    document.body.removeChild(pom);
}

function shuffle(evt) {
    var o = contents.split("\n");
    for (var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
    contents = o.join("\n")
    document.getElementById('text').innerHTML = contents;
}

function readSingleFile(evt) {
    var f = evt.target.files[0];

    if (f) {
        var r = new FileReader();
        r.onload = function(e) { contents = e.target.result; shuffle();}
        r.readAsText(f);
    } else {
        alert('Failed to load file');
    }
}

document.getElementById('fileinput').addEventListener('change', readSingleFile, false);
document.getElementById('shuffle').addEventListener('click', shuffle, false);
document.getElementById('download').addEventListener('click', download, false);

</script>



      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/a-bc/shuffler">Shufflr</a> is maintained by <a href="https://github.com/a-bc">a-bc</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

